<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Order your favorite KFC meals online with fast delivery and secure payments." />
  <meta name="keywords" content="KFC, fast food, order online, fried chicken, delivery" />
  <title>KFC - Order Online</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Roboto', sans-serif;
    }
    #payment-modal, #auth-modal {
      display: none;
    }
    #payment-modal.active, #auth-modal.active {
      display: flex;
    }
    #notification {
      display: none;
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: #10b981;
      color: white;
      padding: 16px;
      border-radius: 8px;
      z-index: 1000;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    #notification.show {
      display: block;
    }
    .loading-spinner {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #e11d48;
      border-radius: 50%;
      width: 24px;
      height: 24px;
      animation: spin 1s linear infinite;
      display: none;
    }
    .loading-spinner.active {
      display: inline-block;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body class="bg-gray-100">
  <!-- Notification -->
  <div id="notification"></div>

  <!-- Header -->
  <header class="bg-red-600 text-white p-4 sticky top-0 z-50 shadow-md">
    <div class="container mx-auto flex justify-between items-center">
      <div class="flex items-center">
        <img src="https://www.kfc.com/assets/images/logo-kfc.png" alt="KFC Logo" class="h-10 mr-4" />
        <h1 class="text-2xl font-bold">KFC</h1>
      </div>
      <nav class="hidden md:flex space-x-4">
        <a href="#home" class="hover:text-gray-200">Home</a>
        <a href="#menu" class="hover:text-gray-200">Menu</a>
        <a href="#account" id="auth-link" class="hover:text-gray-200">Account</a>
      </nav>
      <select id="language-select" class="bg-white text-black px-2 py-1 rounded" aria-label="Select language">
        <option value="en">English</option>
        <option value="hi">Hindi</option>
        <option value="ta">Tamil</option>
        <option value="te">Telugu</option>
        <option value="ml">Malayalam</option>
        <option value="bn">Bengali</option>
        <option value="gu">Gujarati</option>
        <option value="mr">Marathi</option>
        <option value="pa">Punjabi</option>
        <option value="kn">Kannada</option>
      </select>
      <button id="mobile-menu-toggle" class="md:hidden focus:outline-none" aria-label="Toggle mobile menu">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
    <nav id="mobile-menu" class="hidden md:hidden bg-red-700 p-4">
      <a href="#home" class="block py-2 hover:text-gray-200">Home</a>
      <a href="#menu" class="block py-2 hover:text-gray-200">Menu</a>
      <a href="#account" id="auth-link-mobile" class="block py-2 hover:text-gray-200">Account</a>
    </nav>
  </header>

  <!-- Authentication Modal -->
  <div id="auth-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md">
      <h3 class="text-xl font-bold mb-4">Login / Sign Up</h3>
      <input id="auth-email" type="email" placeholder="Email" class="w-full p-2 mb-2 border rounded" aria-label="Email" />
      <input id="auth-password" type="password" placeholder="Password" class="w-full p-2 mb-2 border rounded" aria-label="Password" />
      <div class="flex justify-between">
        <button id="login-button" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">Login</button>
        <button id="signup-button" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Sign Up</button>
      </div>
      <button id="cancel-auth" class="w-full bg-red-600 text-white px-4 py-2 mt-4 rounded hover:bg-red-700">Cancel</button>
    </div>
  </div>

  <!-- Main Content -->
  <main class="container mx-auto mt-8">
    <section id="hero" class="bg-cover bg-center h-64 flex items-center justify-center text-white rounded-lg mb-8" style="background-image: url('https://www.kfc.com/assets/images/hero-bg.jpg')">
      <div class="text-center">
        <h2 class="text-4xl font-bold">Order Your Favorite KFC Meals</h2>
        <p class="mt-2">Fast delivery, fresh ingredients, and unbeatable taste!</p>
      </div>
    </section>

    <h2 class="text-3xl font-bold text-center mb-8" id="main-heading">Our Menu</h2>
    <div id="menu" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      <!-- Menu items will be injected here -->
    </div>

    <div class="mt-12">
      <h2 class="text-2xl font-bold text-center mb-4">Your Cart</h2>
      <div class="bg-white p-6 rounded-lg shadow-lg">
        <ul id="cart-items" class="mb-6"></ul>
        <div class="flex justify-between items-center">
          <span class="text-lg font-bold">Total: ₹<span id="cart-total">0.00</span></span>
          <button class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 flex items-center" id="checkout-button">
            <span>Checkout</span>
            <span class="loading-spinner ml-2"></span>
          </button>
        </div>
      </div>
    </div>
  </main>

  <!-- Payment Modal -->
  <div id="payment-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md">
      <h3 class="text-xl font-bold mb-4">Select Payment Method</h3>
      <div class="space-y-4">
        <button id="qr-payment" class="w-full bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 flex items-center justify-center">
          <span>Pay with QR Code</span>
          <span class="loading-spinner ml-2"></span>
        </button>
        <button id="cash-payment" class="w-full bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700">Cash on Delivery</button>
      </div>
      <div id="payment-details" class="mt-4 hidden">
        <div id="qr-code" class="hidden text-center">
          <div id="qr-code-container" class="mx-auto mb-4" aria-label="QR code for payment"></div>
          <p>Scan this QR code to confirm payment. Valid for 2 minutes.</p>
          <button id="confirm-qr" class="w-full bg-green-600 text-white px-4 py-2 mt-2 rounded hover:bg-green-700 flex items-center justify-center">
            <span>Confirm Payment</span>
            <span class="loading-spinner ml-2"></span>
          </button>
          <p id="qr-timer" class="text-sm text-gray-600 mt-2">Time remaining: 2:00</p>
        </div>
        <div id="cash-details" class="hidden">
          <p>Please prepare ₹<span id="cash-amount">0.00</span> for delivery</p>
          <input id="delivery-address" type="text" placeholder="Delivery Address" class="w-full p-2 mb-2 border rounded" aria-label="Delivery address" />
          <button id="confirm-cash" class="w-full bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 flex items-center justify-center">
            <span>Confirm Order</span>
            <span class="loading-spinner ml-2"></span>
          </button>
        </div>
      </div>
      <button id="cancel-payment" class="w-full bg-red-600 text-white px-4 py-2 mt-4 rounded hover:bg-red-700">Cancel</button>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white p-6 mt-12">
    <div class="container mx-auto grid grid-cols-1 md:grid-cols-3 gap-8">
      <div>
        <h3 class="text-xl font-bold mb-4">KFC</h3>
        <p>Delivering crispy, delicious meals since 1952.</p>
      </div>
      <div>
        <h3 class="text-xl font-bold mb-4">Quick Links</h3>
        <ul>
          <li><a href="#menu" class="hover:text-gray-300">Menu</a></li>
          <li><a href="#customer-service" id="customer-service-link" class="hover:text-gray-300">Customer Service</a></li>
        </ul>
      </div>
      <div>
        <h3 class="text-xl font-bold mb-4">Contact Us</h3>
        <p>Email: <a href="mailto:support@kfc.com" class="underline">support@kfc.com</a></p>
        <p>Phone: +91 123-456-7890</p>
        <p>Mon-Sat, 9 AM - 6 PM</p>
      </div>
    </div>
    <div class="container mx-auto text-center mt-8">
      <p>© 2025 KFC. All rights reserved.</p>
    </div>
  </footer>

  <script>
    const foodItems = [
      { id: 1, key: "bucket", price: 1599, image: "https://storage.googleapis.com/a1aa/image/5dlQ8zfEANWGYiQo5pArgQv3jPRSiciJfjXE0HVMPxDT6IvTA.jpg" },
      { id: 2, key: "sandwich", price: 459, image: "https://storage.googleapis.com/a1aa/image/z9bi9aPUFNqXNFAzNrFskQdB9fTqDpDu6GPV5qQN8u0Mdk3JA.jpg" },
      { id: 3, key: "tenders", price: 689, image: "https://storage.googleapis.com/a1aa/image/IBO9k8fN4ExjCyAw1GSeZ53ZesxoP4d3o5acPu58I1eVpj8OB.jpg" },
      { id: 4, key: "coleslaw", price: 229, image: "https://storage.googleapis.com/a1aa/image/wBdxLiZdJXJRGldPk9uHlNZYGY0ZsSgLdLVUsge3XVZJdk3JA.jpg" },
      { id: 5, key: "potatoes", price: 299, image: "https://storage.googleapis.com/a1aa/image/RDXLUz2pn4LdIpC6KIAZCyTuD4D1bJPpHmC3jlG8cQwlOy7E.jpg" },
      { id: 6, key: "biscuits", price: 149, image: "https://storage.googleapis.com/a1aa/image/gmQq8eIy5o0ZZq5cDkqfwossfeG2hKRPgi7Ko9z4gNFipj8OB.jpg" },
      { id: 7, key: "zinger", price: 499, image: "https://storage.googleapis.com/takeapp/media/clotfzxqb00020flb3b2peexd.jpg" },
      { id: 8, key: "wings", price: 379, image: "https://recipesblob.oetker.com.my/assets/8aaf3e3f237f4009912cf8d0a23cd036/1272x764/extrah-skentucky-superhot-spicychickenwings.jpg" },
      { id: 9, key: "ricebowl", price: 259, image: "https://images.getrecipekit.com/20220929133728-salmon-20rice-20bowl-20almost-20finished.jpg?width=700" },
      { id: 10, key: "burgercombo", price: 699, image: "https://levanilla.in/media/catalog/product/cache/1/image/9df78eab33525d08d6e5fb8d27136e95/v/e/veg-burger-fr-two_1.jpg" },
    ];

    const translations = {
      en: {
        main: "Our Menu",
        bucket: ["KFC Bucket", "A bucket of our famous crispy fried chicken."],
        sandwich: ["Chicken Sandwich", "A delicious chicken sandwich with crispy fillet."],
        tenders: ["Chicken Tenders", "Crispy chicken tenders with dipping sauce."],
        coleslaw: ["Coleslaw", "Fresh and creamy coleslaw."],
        potatoes: ["Mashed Potatoes", "Creamy mashed potatoes with gravy."],
        biscuits: ["Biscuits", "Fluffy and buttery biscuits."],
        zinger: ["Zinger Burger", "Spicy zinger burger with lettuce and mayo."],
        wings: ["Hot Wings", "Spicy and crispy chicken wings."],
        ricebowl: ["Rice Bowl", "Rice with spicy chicken and sauce."],
        burgercombo: ["Burger Combo", "Burger, fries, and a drink combo."],
      },
      hi: {
        main: "हमारा मेनू",
        bucket: ["केएफसी बकेट", "हमारा प्रसिद्ध क्रिस्पी फ्राइड चिकन का बकेट।"],
        sandwich: ["चिकन सैंडविच", "क्रिस्पी चिकन फिलेट के साथ स्वादिष्ट सैंडविच।"],
        tenders: ["चिकन टेंडर्स", "डिपिंग सॉस के साथ क्रिस्पी चिकन टेंडर्स।"],
        coleslaw: ["कोलस्लॉ", "ताजा और क्रीमी कोलस्लॉ।"],
        potatoes: ["मैश्ड पोटेटोज", "ग्रेवी के साथ क्रीमी मैश्ड पोटेटोज।"],
        biscuits: ["बिस्किट्स", "नरम और मक्खनयुक्त बिस्किट्स।"],
        zinger: ["जिंगर बर्गर", "लेट्यूस और मेयो के साथ मसालेदार जिंगर बर्गर।"],
        wings: ["हॉट विंग्स", "मसालेदार और क्रिस्पी चिकन विंग्स।"],
        ricebowl: ["राइस बाउल", "मसालेदार चिकन और सॉस के साथ चावल।"],
        burgercombo: ["बर्गर कॉम्बो", "बर्गर, फ्राइज़, और ड्रिंक का कॉम्बो।"],
      },
      ta: {
        main: "எங்கள் மெனு",
        bucket: ["கேஎஃப்சி பக்கெட்", "எங்கள் பிரபலமான மொறுமொறுப்பான வறுத்த கோழி பக்கெட்."],
        sandwich: ["சிக்கன் சாண்ட்விச்", "மொறுமொறுப்பான கோழி ஃபில்லெட்டுடன் சுவையான சாண்ட்விச்."],
        tenders: ["சிக்கன் டெண்டர்ஸ்", "டிப்பிங் சாஸுடன் மொறுமொறுப்பான கோழி டெண்டர்ஸ்."],
        coleslaw: ["கோல்ஸ்லா", "புதிய மற்றும் கிரீமியான கோல்ஸ்லா."],
        potatoes: ["மாஷ்டு உருளைக்கிழங்கு", "கிரேவியுடன் கிரீமியான மாஷ்டு உருளைக்கிழங்கு."],
        biscuits: ["பிஸ்கட்ஸ்", "மென்மையான மற்றும் வெண்ணெய் பிஸ்கட்ஸ்."],
        zinger: ["ஜிங்கர் பர்கர்", "கீரை மற்றும் மயோனைசுடன் காரமான ஜிங்கர் பர்கர்."],
        wings: ["ஹாட் விங்ஸ்", "காரமான மற்றும் மொறுமொறுப்பான கோழி விங்ஸ்."],
        ricebowl: ["ரைஸ் பவுல்", "காரமான கோழி மற்றும் சாஸுடன் அரிசி."],
        burgercombo: ["பர்கர் காம்போ", "பர்கர், பிரெஞ்சு ஃப்ரைஸ் மற்றும் பானம் காம்போ."],
      },
      te: {
        main: "మా మెనూ",
        bucket: ["కేఎఫ్‌సీ బకెట్", "మా ప్రసిద్ధ క్రిస్పీ ఫ్రైడ్ చికెన్ బకెట్."],
        sandwich: ["చికెన్ శాండ్‌విచ్", "క్రిస్పీ చికెన్ ఫిల్లెట్‌తో రుచికరమైన శాండ్‌విచ్."],
        tenders: ["చికెన్ టెండర్స్", "డిప్పింగ్ సాస్‌తో క్రిస్పీ చికెన్ టెండర్స్."],
        coleslaw: ["కోల్‌స్లా", "తాజా మరియు క్రీమీ కోల్‌స్లా."],
        potatoes: ["మాష్డ్ పొటాటోస్", "గ్రేవీతో క్రీమీ మాష్డ్ పొటాటోస్."],
        biscuits: ["బిస్కెట్స్", "మెత్తని మరియు బటరీ బిస్కెట్స్."],
        zinger: ["జింగర్ బర్గర్", "లెట్టూస్ మరియు మాయోతో కారంగా ఉండే జింగర్ బర్గర్."],
        wings: ["హాట్ వింగ్స్", "కారంగా మరియు క్రిస్పీ చికెన్ వింగ్స్."],
        ricebowl: ["రైస్ బౌల్", "కారంగా ఉండే చికెన్ మరియు సాస్‌తో బియ్యం."],
        burgercombo: ["బర్గర్ కాంబో", "బర్గర్, ఫ్రైస్ మరియు డ్రింక్ కాంబో."],
      },
      ml: {
        main: "ഞങ്ങളുടെ മെനു",
        bucket: ["കെഎഫ്‌സി ബക്കറ്റ്", "ഞങ്ങളുടെ പ്രശസ്തമായ ക്രിസ്പി ഫ്രൈഡ് ചിക്കൻ ബക്കറ്റ്."],
        sandwich: ["ചിക്കൻ സാൻഡ്‌വിച്ച്", "ക്രിസ്പി ചിക്കൻ ഫില്ലറ്റോടുകൂടിയ രുചികരമായ സാൻഡ്‌വിച്ച്."],
        tenders: ["ചിക്കൻ ടെൻഡേഴ്സ്", "ഡിപ്പിംഗ് സോസോടുകൂടിയ ക്രിസ്പി ചിക്കൻ ടെൻഡേഴ്സ്."],
        coleslaw: ["കോൾസ്ലോ", "പുതിയതും ക്രീമിയുമായ കോൾസ്ലോ."],
        potatoes: ["മാഷ്ഡ് ഉരുളക്കിഴങ്ങ്", "ഗ്രേവിയോടുകൂടിയ ക്രീമിയായ മാഷ്ഡ് ഉരുളക്കിഴང്."],
        biscuits: ["ബിസ്കറ്റുകൾ", "മൃദുവും വെണ്ണയും ഉള്ള ബിസ്കറ്റുകൾ."],
        zinger: ["സിംഗർ ബർഗർ", "ലെറ്റൂസും മയോണൈസും ഉള്ള എരിവുള്ള സിംഗർ ബർഗർ."],
        wings: ["ഹോട്ട് വിംഗ്സ്", "എരിവുള്ളതും ക്രിസ്പിയുമായ ചിക്കൻ വിംഗ്സ്."],
        ricebowl: ["റൈസ് ബൗൾ", "എരിവുള്ള ചിക്കനും സോസും ഉള്ള അരി."],
        burgercombo: ["ബർഗർ കോംബോ", "ബർഗർ, ഫ്രൈസ്, ഡ്രിങ്ക് എന്നിവയുടെ കോംബോ."],
      },
      bn: {
        main: "আমাদের মেনু",
        bucket: ["কেএফসি বাকেট", "আমাদের বিখ্যাত ক্রিস্পি ফ্রায়েড চিকেনের বাকেট।"],
        sandwich: ["চিকেন স্যান্ডউইচ", "ক্রিস্পি চিকেন ফিলেট সহ সুস্বাদু স্যান্ডউইচ।"],
        tenders: ["চিকেন টেন্ডার্স", "ডিপিং সস সহ ক্রিস্পি চিকেন টেন্ডার্স।"],
        coleslaw: ["কোলস্ল", "তাজা এবং ক্রিমি কোলস্ল।"],
        potatoes: ["ম্যাশড আলু", "গ্রেভি সহ ক্রিমি ম্যাশড আলু।"],
        biscuits: ["বিস্কুট", "নরম এবং মাখনযুক্ত বিস্কুট।"],
        zinger: ["জিঙ্গার বার্গার", "লেটুস এবং মেয়ো সহ মশলাদার জিঙ্গার বার্গার।"],
        wings: ["হট উইংস", "মশলাদার এবং ক্রিস্পি চিকেন উইংস।"],
        ricebowl: ["রাইস বোল", "মশলাদার চিকেন এবং সস সহ ভাত।"],
        burgercombo: ["বার্গার কম্বো", "বার্গার, ফ্রাইস এবং ড্রিঙ্ক কম্বো।"],
      },
      gu: {
        main: "અમારું મેનૂ",
        bucket: ["કેએફસી બકેટ", "અમારું પ્રખ્યાત ક્રિસ્પી ફ્રાઈડ ચિકનનું બકેટ."],
        sandwich: ["ચિકન સેન્ડવિચ", "ક્રિસ્પી ચિકન ફિલેટ સાથેનું સ્વાદિષ્ટ સેન્ડવિચ."],
        tenders: ["ચિકન ટેન્ડર્સ", "ડિપિંગ સૉસ સાથે ક્રિસ્પી ચિકન ટેન્ડર્સ."],
        coleslaw: ["કોલસ્લો", "તાજું અને ક્રીમી કોલસ્લો."],
        potatoes: ["મેસ્ડ પોટેટોસ", "ગ્રેવી સાથે ક્રીમી મેસ્ડ પોટેટોસ."],
        biscuits: ["બિસ્કિટ્સ", "નરમ અને માખણવાળા બિસ્કિટ્સ."],
        zinger: ["ઝિંગર બર્ગર", "લેટીસ અને મેયો સાથેનું મસાલેદાર ઝિંગર બર્ગર."],
        wings: ["હોટ વિંગ્સ", "મસાલેદાર અને ક્રિસ્પી ચિકન વિંગ્સ."],
        ricebowl: ["રાઈસ બોલ", "મસાલેદાર ચિકન અને સૉસ સાથે ચોખા."],
        burgercombo: ["બર્ગર કોમ્બો", "બર્ગર, ફ્રાઈસ અને ડ્રિંક કોમ્બો."],
      },
      mr: {
        main: "आमचे मेनू",
        bucket: ["केएफसी बकेट", "आमचे प्रसिद्ध कुरकुरीत तळलेले चिकनचे बकेट."],
        sandwich: ["चिकन सँडविच", "कुरकुरीत चिकन फिलेटसह स्वादिष्ट सँडविच."],
        tenders: ["चिकन टेंडर्स", "डिपिंग सॉससह कुरकुरीत चिकन टेंडर्स."],
        coleslaw: ["कोलस्लॉ", "ताजे आणि क्रीमी कोलस्लॉ."],
        potatoes: ["मॅश्ड पोटॅटो", "ग्रेव्हीसह क्रीमी मॅश्ड पोटॅटो."],
        biscuits: ["बिस्किट्स", "मऊ आणि लोणी बिस्किट्स."],
        zinger: ["झिंगर बर्गर", "लेट्यूस आणि मेयोसह मसालेदार झिंगर बर्गर."],
        wings: ["हॉट विंग्स", "मसालेदार आणि कुरकुरीत चिकन विंग्स."],
        ricebowl: ["राईस बाउल", "मसालेदार चिकन आणि सॉससह तांदूळ."],
        burgercombo: ["बर्गर कॉम्बो", "बर्गर, फ्राईज आणि ड्रिंक कॉम्बो."],
      },
      pa: {
        main: "ਸਾਡਾ ਮੀਨੂ",
        bucket: ["ਕੇਐਫਸੀ ਬਕੇਟ", "ਸਾਡਾ ਮਸ਼ਹੂਰ ਕਰਿਸਪੀ ਫਰਾਈਡ ਚਿਕਨ ਦਾ ਬਕੇਟ।"],
        sandwich: ["ਚਿਕਨ ਸੈਂਡਵਿਚ", "ਕਰਿਸਪੀ ਚਿਕਨ ਫਿਲੇਟ ਨਾਲ ਸੁਆਦੀ ਸੈਂਡਵਿਚ।"],
        tenders: ["ਚਿਕਨ ਟੈਂਡਰਸ", "ਡਿੱਪਿੰਗ ਸਾਸ ਨਾਲ ਕਰਿਸਪੀ ਚਿਕਨ ਟੈਂਡਰਸ।"],
        coleslaw: ["ਕੋਲਸਲਾ", "ਤਾਜ਼ਾ ਅਤੇ ਕਰੀਮੀ ਕੋਲਸਲਾ।"],
        potatoes: ["ਮੈਸ਼ਡ ਆਲੂ", "ਗਰੇਵੀ ਨਾਲ ਕਰੀਮੀ ਮੈਸ਼ਡ ਆਲੂ।"],
        biscuits: ["ਬਿਸਕੁਟ", "ਨਰਮ ਅਤੇ ਮੱਖਣ ਵਾਲੇ ਬਿਸਕੁਟ।"],
        zinger: ["ਜ਼ਿੰਗਰ ਬਰਗਰ", "ਸਲਾਦ ਅਤੇ ਮੇਓ ਨਾਲ ਮਸਾਲੇਦਾਰ ਜ਼ਿੰਗਰ ਬਰਗਰ।"],
        wings: ["ਹਾਟ ਵਿੰਗਸ", "ਮਸਾਲੇਦਾਰ ਅਤੇ ਕਰਿਸਪੀ ਚਿਕਨ ਵਿੰਗਸ।"],
        ricebowl: ["ਰਾਈਸ ਬਾਊਲ", "ਮਸਾਲੇਦਾਰ ਚਿਕਨ ਅਤੇ ਸਾਸ ਨਾਲ ਚੌਲ।"],
        burgercombo: ["ਬਰਗਰ ਕੰਬੋ", "ਬਰਗਰ, ਫਰਾਈਜ਼ ਅਤੇ ਡਰਿੰਕ ਕੰਬੋ।"],
      },
      kn: {
        main: "ನಮ್ಮ ಮೆನು",
        bucket: ["ಕೆಎಫ್‌ಸಿ ಬಕೆಟ್", "ನಮ್ಮ ಪ್ರಸಿದ್ಧ ಕ್ರಿಸ್ಪಿ ಫ್ರೈಡ್ ಚಿಕನ್ ಬಕೆಟ್."],
        sandwich: ["ಚಿಕನ್ ಸ್ಯಾಂಡ್‌ವಿಚ್", "ಕ್ರಿಸ್ಪಿ ಚಿಕನ್ ಫಿಲೆಟ್‌ನೊಂದಿಗೆ ರುಚಿಕರವಾದ ಸ್ಯಾಂಡ್‌ವಿಚ್."],
        tenders: ["ಚಿಕನ್ ಟೆಂಡರ್ಸ್", "ಡಿಪ್ಪಿಂಗ್ ಸಾಸ್‌ನೊಂದಿಗೆ ಕ್ರಿಸ್ಪಿ ಚಿಕನ್ ಟೆಂಡರ್ಸ್."],
        coleslaw: ["ಕೋಲ್ಸ್ಲಾ", "ತಾಜಾ ಮತ್ತು ಕ್ರೀಮಿ ಕೋಲ್ಸ್ಲಾ."],
        potatoes: ["ಮ್ಯಾಷ್ಡ್ ಆಲೂಗಡ್ಡೆ", "ಗ್ರೇವಿಯೊಂದಿಗೆ ಕ್ರೀಮಿ ಮ್ಯಾಷ್ಡ್ ಆಲೂಗಡ್ಡೆ."],
        biscuits: ["ಬಿಸ್ಕೆಟ್ಸ್", "ಮೃದುವಾದ ಮತ್ತು ಬೆಣ್ಣೆಯ ಬಿಸ್ಕೆಟ್ಸ್."],
        zinger: ["ಜಿಂಗರ್ ಬರ್ಗರ್", "ಲೆಟಿಸ್ ಮತ್ತು ಮೇಯೊನೀಸ್‌ನೊಂದಿಗೆ ಮಸಾಲೆಯ ಜಿಂಗರ್ ಬರ್ಗರ್."],
        wings: ["ಹಾಟ್ ವಿಂಗ್ಸ್", "ಮಸಾಲೆಯ ಮತ್ತು ಕ್ರಿಸ್ಪಿ ಚಿಕನ್ ವಿಂಗ್ಸ್."],
        ricebowl: ["ರೈಸ್ ಬೌಲ್", "ಮಸಾಲೆಯ ಚಿಕನ್ ಮತ್ತು ಸಾಸ್‌ನೊಂದಿಗೆ ಅಕ್ಕಿ."],
        burgercombo: ["ಬರ್ಗರ್ ಕಾಂಬೋ", "ಬರ್ಗರ್, ಫ್ರೈಸ್ ಮತ್ತು ಡ್ರಿಂಕ್ ಕಾಂಬೋ."],
      },
    };

    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    let isAuthenticated = false;
    let currentUserEmail = '';
    let qrTimer = null;

    function getPreferredLanguage() {
      return localStorage.getItem('preferredLanguage') || 'en';
    }

    function setPreferredLanguage(language) {
      if (!translations[language]) {
        console.warn(`Language ${language} not supported, falling back to English`);
        language = 'en';
      }
      localStorage.setItem('preferredLanguage', language);
      document.getElementById('language-select').value = language;
      changeLanguage(language);
    }

    function changeLanguage(language) {
      const lang = translations[language] || translations['en'];
      document.getElementById('main-heading').innerText = lang.main;
      foodItems.forEach(item => {
        const itemElement = document.getElementById(`item-${item.id}`);
        if (itemElement) {
          const itemName = lang[item.key] ? lang[item.key][0] : item.key;
          const itemDesc = lang[item.key] ? lang[item.key][1] : item.key;
          itemElement.querySelector('.item-name').innerText = itemName;
          itemElement.querySelector('.item-desc').innerText = itemDesc;
        }
      });
      updateCartDisplay();
    }

    function addItemToCart(item) {
      const existingItem = cart.find(cartItem => cartItem.key === item.key);
      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        cart.push({ ...item, quantity: 1 });
      }
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartDisplay();
      showNotification('Item added to cart!');
    }

    function removeItemFromCart(key) {
      cart = cart.filter(item => item.key !== key);
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartDisplay();
    }

    function updateItemQuantity(key, quantity) {
      const item = cart.find(cartItem => cartItem.key === key);
      if (item) {
        item.quantity = Math.max(1, quantity);
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartDisplay();
      }
    }

    function updateCartDisplay() {
      const cartItems = document.getElementById('cart-items');
      cartItems.innerHTML = '';
      let total = 0;
      cart.forEach(item => {
        const lang = translations[document.getElementById('language-select').value] || translations['en'];
        const itemName = lang[item.key] ? lang[item.key][0] : item.key;
        total += item.price * item.quantity;
        const cartItem = document.createElement('li');
        cartItem.classList.add('flex', 'justify-between', 'items-center', 'py-2', 'border-b', 'border-gray-200');
        cartItem.innerHTML = `
          <div class="flex-1">
            <span class="text-gray-800">${itemName}</span>
            <div class="flex items-center mt-1">
              <button class="text-red-600 px-2" onclick="updateItemQuantity('${item.key}', ${item.quantity - 1})">-</button>
              <span class="mx-2">${item.quantity}</span>
              <button class="text-green-600 px-2" onclick="updateItemQuantity('${item.key}', ${item.quantity + 1})">+</button>
            </div>
          </div>
          <span class="text-gray-600">₹${(item.price * item.quantity).toFixed(2)}</span>
          <button class="text-red-600 ml-4" onclick="removeItemFromCart('${item.key}')">Remove</button>
        `;
        cartItems.appendChild(cartItem);
      });
      document.getElementById('cart-total').innerText = total.toFixed(2);
      document.getElementById('cash-amount').innerText = total.toFixed(2);
    }

    function createMenu() {
      const menu = document.getElementById('menu');
      menu.innerHTML = '';
      const lang = translations[document.getElementById('language-select').value] || translations['en'];
      foodItems.forEach(item => {
        const itemName = lang[item.key] ? lang[item.key][0] : item.key;
        const itemDesc = lang[item.key] ? lang[item.key][1] : item.key;
        const itemElement = document.createElement('div');
        itemElement.classList.add('bg-white', 'p-6', 'rounded-lg', 'shadow-lg', 'hover:shadow-xl', 'transition-shadow');
        itemElement.id = `item-${item.id}`;
        itemElement.innerHTML = `
          <img src="${item.image}" alt="${itemName}" class="w-full h-56 object-cover rounded-md mb-4 lazy" loading="lazy" />
          <h3 class="text-xl font-bold item-name">${itemName}</h3>
          <p class="text-gray-600 item-desc">${itemDesc}</p>
          <span class="text-gray-800 font-bold">₹${item.price.toFixed(2)}</span>
          <button class="bg-red-600 text-white px-4 py-2 mt-4 rounded hover:bg-red-700 w-full" onclick='addItemToCart({ key: "${item.key}", price: ${item.price} })'>Add to Cart</button>
        `;
        menu.appendChild(itemElement);
      });
    }

    function showNotification(message, isError = false) {
      const notification = document.getElementById('notification');
      notification.innerText = message;
      notification.className = `fixed top-20 right-4 p-4 rounded-lg shadow-lg z-50 ${isError ? 'bg-red-600' : 'bg-green-600'} text-white`;
      notification.classList.add('show');
      setTimeout(() => notification.classList.remove('show'), 3000);
    }

    function showPaymentModal() {
      if (cart.length === 0) {
        showNotification('Please add items to your cart before checking out.', true);
        return;
      }
      if (!isAuthenticated) {
        showAuthModal();
        return;
      }
      document.getElementById('payment-modal').classList.add('active');
    }

    function hidePaymentModal() {
      document.getElementById('payment-modal').classList.remove('active');
      document.getElementById('payment-details').classList.add('hidden');
      document.getElementById('qr-code').classList.add('hidden');
      document.getElementById('cash-details').classList.add('hidden');
      document.getElementById('qr-code-container').innerHTML = '';
      document.querySelectorAll('.loading-spinner').forEach(spinner => spinner.classList.remove('active'));
      clearQRTimer();
    }

    function showAuthModal() {
      document.getElementById('auth-modal').classList.add('active');
    }

    function hideAuthModal() {
      document.getElementById('auth-modal').classList.remove('active');
    }

    function startQRTimer() {
      let timeLeft = 120; // 2 minutes in seconds
      const timerElement = document.getElementById('qr-timer');
      clearQRTimer();
      qrTimer = setInterval(() => {
        timeLeft--;
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        timerElement.textContent = `Time remaining: ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
        if (timeLeft <= 0) {
          clearQRTimer();
          timerElement.textContent = 'QR code expired. Please try again.';
          document.getElementById('confirm-qr').disabled = true;
          showNotification('QR code has expired.', true);
        }
      }, 1000);
    }

    function clearQRTimer() {
      if (qrTimer) {
        clearInterval(qrTimer);
        qrTimer = null;
      }
    }

    function generateQRCode(total, orderId, address = '') {
      const qrContainer = document.getElementById('qr-code-container');
      qrContainer.innerHTML = '';
      const email = encodeURIComponent(currentUserEmail || 'guest@kfc.com');
      const cartSummary = encodeURIComponent(cart.map(item => `${item.key}:${item.quantity}`).join(','));
      const encodedAddress = encodeURIComponent(address);
      const paymentUrl = `https://kfc.com/confirm-payment?amount=${total}&order_id=${orderId}&email=${email}&cart=${cartSummary}&address=${encodedAddress}`;
      try {
        new QRCode(qrContainer, {
          text: paymentUrl,
          width: 150,
          height: 150,
        });
        startQRTimer();
        return paymentUrl;
      } catch (error) {
        showNotification('Failed to generate QR code. Please try again.', true);
        console.error('QR code generation error:', error);
        return null;
      }
    }

    function handlePayment(method) {
      document.getElementById('payment-details').classList.remove('hidden');
      document.getElementById('qr-code').classList.add('hidden');
      document.getElementById('cash-details').classList.add('hidden');
      const qrButton = document.getElementById('qr-payment');
      const spinner = qrButton.querySelector('.loading-spinner');

      if (method === 'qr') {
        spinner.classList.add('active');
        document.getElementById('qr-code').classList.remove('hidden');
        const total = document.getElementById('cart-total').innerText;
        const orderId = Date.now();
        const address = document.getElementById('delivery-address').value.trim();
        const paymentUrl = generateQRCode(total, orderId, address);
        spinner.classList.remove('active');
        if (!paymentUrl) {
          document.getElementById('confirm-qr').disabled = true;
        }
      } else if (method === 'cash') {
        document.getElementById('cash-details').classList.remove('hidden');
      }
    }

    async function confirmQRPayment() {
      const confirmButton = document.getElementById('confirm-qr');
      const spinner = confirmButton.querySelector('.loading-spinner');
      spinner.classList.add('active');
      const orderId = Date.now();

      try {
        // Simulate backend API call to confirm payment
        await fetch('https://jsonplaceholder.typicode.com/posts', {
          method: 'POST',
          body: JSON.stringify({ cart, orderId }),
          headers: { 'Content-Type': 'application/json' },
        });
        showNotification('Your order placed successfully!');
        clearCart();
        hidePaymentModal();
        setTimeout(() => {
          showNotification(`Order #${orderId} confirmed! Estimated delivery in 30 minutes.`);
        }, 1000);
      } catch (error) {
        showNotification('Failed to confirm payment. Please try again.', true);
        console.error('Payment confirmation error:', error);
      } finally {
        spinner.classList.remove('active');
      }
    }

    async function handleCashPayment() {
      const address = document.getElementById('delivery-address').value.trim();
      if (!address) {
        showNotification('Please enter a delivery address.', true);
        return;
      }
      const confirmButton = document.getElementById('confirm-cash');
      const spinner = confirmButton.querySelector('.loading-spinner');
      spinner.classList.add('active');

      try {
        await fetch('https://jsonplaceholder.typicode.com/posts', {
          method: 'POST',
          body: JSON.stringify({ cart, address }),
          headers: { 'Content-Type': 'application/json' },
        });
        showNotification('Order placed successfully! Prepare cash for delivery.');
        clearCart();
        hidePaymentModal();
        setTimeout(() => {
          showNotification(`Order #${Date.now()} confirmed! Estimated delivery in 30 minutes.`);
        }, 1000);
      } catch (error) {
        showNotification('Failed to place order. Please try again.', true);
      } finally {
        spinner.classList.remove('active');
      }
    }

    function clearCart() {
      cart = [];
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartDisplay();
    }

    function handleLogin() {
      const email = document.getElementById('auth-email').value;
      const password = document.getElementById('auth-password').value;
      if (email && password) {
        isAuthenticated = true;
        currentUserEmail = email;
        document.getElementById('auth-link').innerText = 'My Account';
        document.getElementById('auth-link-mobile').innerText = 'My Account';
        showNotification('Logged in successfully!');
        hideAuthModal();
      } else {
        showNotification('Please enter valid credentials.', true);
      }
    }

    function handleSignup() {
      const email = document.getElementById('auth-email').value;
      const password = document.getElementById('auth-password').value;
      if (email && password) {
        isAuthenticated = true;
        currentUserEmail = email;
        document.getElementById('auth-link').innerText = 'My Account';
        document.getElementById('auth-link-mobile').innerText = 'My Account';
        showNotification('Signed up successfully!');
        hideAuthModal();
      } else {
        showNotification('Please enter valid credentials.', true);
      }
    }

    // Event Listeners
    document.getElementById('language-select').addEventListener('change', (e) => {
      setPreferredLanguage(e.target.value);
    });

    document.getElementById('mobile-menu-toggle').addEventListener('click', () => {
      document.getElementById('mobile-menu').classList.toggle('hidden');
    });

    document.getElementById('checkout-button').addEventListener('click', showPaymentModal);
    document.getElementById('cancel-payment').addEventListener('click', hidePaymentModal);
    document.getElementById('qr-payment').addEventListener('click', () => handlePayment('qr'));
    document.getElementById('cash-payment').addEventListener('click', () => handlePayment('cash'));
    document.getElementById('confirm-cash').addEventListener('click', handleCashPayment);
    document.getElementById('confirm-qr').addEventListener('click', confirmQRPayment);

    document.getElementById('auth-link').addEventListener('click', (e) => {
      e.preventDefault();
      showAuthModal();
    });
    document.getElementById('auth-link-mobile').addEventListener('click', (e) => {
      e.preventDefault();
      showAuthModal();
    });
    document.getElementById('login-button').addEventListener('click', handleLogin);
    document.getElementById('signup-button').addEventListener('click', handleSignup);
    document.getElementById('cancel-auth').addEventListener('click', hideAuthModal);

    document.getElementById('customer-service-link').addEventListener('click', (e) => {
      e.preventDefault();
      window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
    });

    // Initialize
    setPreferredLanguage(getPreferredLanguage());
    createMenu();
    updateCartDisplay();
  </script>
</body>
</html>